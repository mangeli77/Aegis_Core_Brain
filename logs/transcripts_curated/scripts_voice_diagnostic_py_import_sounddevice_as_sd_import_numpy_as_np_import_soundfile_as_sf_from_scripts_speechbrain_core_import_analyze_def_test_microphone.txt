[2025-07-06T00:00:2127Z] (neutral) print("\n??? Testing microphone input...") try: duration = 2 # seconds fs = 16000 print("?? Speak into your microphone for 2 seconds...") recording = sd.rec(int(duration * fs), samplerate=fs, channels=1) sd.wait() if np.any(recording): print("? Microphone recording successful.") else: print("? Microphone recorded silence.") except Exception as e: print(f"? Microphone error: {e}") def test_analysis_pipeline(): print("\n?? Testing speechbrain pipeline...") try: result = analyze("samples/test_input.wav", "samples/speaker_reference.wav") print("? Analyze function ran successfully.") print(f"?? Match Score: {result['match_score']}") print(f"? Verified: {result['verified']}") print(f"?? Emotion: {result['emotion']}") except Exception as e: print(f"? Analyze function failed: {e}") if __name__ == "__main__": print("=== ?? AEGIS VOICE DIAGNOSTIC ===") test_microphone() test_analysis_pipeline() [## scripts/voice_diagnostic.py import sounddevice as sd import numpy as np import soundfile as sf from scripts.speechbrain_core import analyze def test_microphone() #seg-2128]
